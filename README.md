# Описание devman_api_bot_1

Этот бот сделан в учебных целях для курса [devman.org](https://dvmn.org).

## Подготовка к работе

Для работы вам нужно создать своего telegram бота, или использовать уже имеющегося. Для создания нового бота следуйте
этим инструкциям: [Как создать нового бота](https://core.telegram.org/bots#6-botfather)

Затем, следует установить необходимые для работы приложения библиотеки с помощью команды в терминале:
```commandline
pip install -r requirements.txt
```

Необходимо создать файл `.env`. В него следует внести ваши токены для API Девмана и бота, как показано ниже.

```dotenv
DEVMAN_API_TOKEN=ваштокен
TELEGRAM_BOT_TOKEN=ваштокен
USER_CHAT_ID=ваш telegram chat_id
LOG_BOT_TOKEN=токен бота админа
ADMIN_CHAT_ID=chat_id админа
```
## Описание модулей
### main.py
Это основной модуль приложения.

####def post_message
Срабатывает, если ваша работа на [devman.org](https://dvmn.org) была проверена. Обрабатывает ответ, полученный от
`Devman API`, формирует текст сообщения и отправляет его в чат, используя указанный в переменной окружения `USER_CHAT_ID`.

Принимает основного бота и сhat_id пользователя.

####def main
Основная функция приложения. Создаёт основного бота, администраторского бота, обращается к `Devman API`, и проверяет 
полученный ответ. Если в ответе получает информацию о новой проверенной работе, то запускает функцию `post_message`.

Если новых проверок нет, обновляет timestamp, и делает новый запрос.

## Запуск приложения

Для запуска, находясь в папке приложения введите в терминале команду:
```commandline
python main.py
```